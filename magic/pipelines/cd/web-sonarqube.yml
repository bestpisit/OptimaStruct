steps:
  - task: SonarQubePrepare@5
    displayName: Prepare analysis on SonarQube
    inputs:
      SonarQube: 'sc-sonarqube'
      scannerMode: CLI
      configMode: manual
      cliProjectKey: $(sonarqubeprojectkey)
      cliProjectName: sonar.$(projectname)
      cliSources: $(root)web
  - task: SonarQubeAnalyze@5
    displayName: Run Code Analysis
  - task: SonarQubePublish@5
    displayName: Publish Quality Gate Result